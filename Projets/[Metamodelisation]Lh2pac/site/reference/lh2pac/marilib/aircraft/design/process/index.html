
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../../tool/">
      
      
      <link rel="icon" href="../../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.25">
    
    
      
        <title>Process - lh2pac</title>
      
    
    
      <link rel="stylesheet" href="../../../../../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../../../sg_gallery-rendered-html.css">
    
      <link rel="stylesheet" href="../../../../../../sg_gallery.css">
    
      <link rel="stylesheet" href="../../../../../../sg_gallery-dataframe.css">
    
      <link rel="stylesheet" href="../../../../../../sg_gallery-binder.css">
    
    <script>__md_scope=new URL("../../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lh2pac.marilib.aircraft.design.process" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../../.." title="lh2pac" class="md-header__button md-logo" aria-label="lh2pac" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            lh2pac
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Process
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://gitlab.com/MatthiasDeLozzo/lh2pac" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m503.5 204.6-.7-1.8-69.7-181.78c-1.4-3.57-3.9-6.59-7.2-8.64-2.4-1.55-5.1-2.515-8-2.81-2.9-.295-5.7.083-8.4 1.11-2.7 1.02-5.1 2.66-7.1 4.78-1.9 2.12-3.3 4.67-4.1 7.44l-47 144H160.8l-47.1-144c-.8-2.77-2.2-5.31-4.1-7.43-2-2.12-4.4-3.75-7.1-4.77a18.1 18.1 0 0 0-8.38-1.113 18.4 18.4 0 0 0-8.04 2.793 18.09 18.09 0 0 0-7.16 8.64L9.267 202.8l-.724 1.8a129.57 129.57 0 0 0-3.52 82c7.747 26.9 24.047 50.7 46.447 67.6l.27.2.59.4 105.97 79.5 52.6 39.7 32 24.2c3.7 1.9 8.3 4.3 13 4.3 4.7 0 9.3-2.4 13-4.3l32-24.2 52.6-39.7 106.7-79.9.3-.3c22.4-16.9 38.7-40.6 45.6-67.5 8.6-27 7.4-55.8-2.6-82z"/></svg>
  </div>
  <div class="md-source__repository">
    lh2pac
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../.." class="md-tabs__link">
          
  
    
  
  Presentation

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../../../../utils/installation/" class="md-tabs__link">
          
  
    
  
  Utils

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../../generated/scripts/project/" class="md-tabs__link">
          
  
    
  
  Scripts

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../../report/" class="md-tabs__link">
          
  
    
  
  Report

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../../.." title="lh2pac" class="md-nav__button md-logo" aria-label="lh2pac" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    lh2pac
  </label>
  
    <div class="md-nav__source">
      <a href="https://gitlab.com/MatthiasDeLozzo/lh2pac" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m503.5 204.6-.7-1.8-69.7-181.78c-1.4-3.57-3.9-6.59-7.2-8.64-2.4-1.55-5.1-2.515-8-2.81-2.9-.295-5.7.083-8.4 1.11-2.7 1.02-5.1 2.66-7.1 4.78-1.9 2.12-3.3 4.67-4.1 7.44l-47 144H160.8l-47.1-144c-.8-2.77-2.2-5.31-4.1-7.43-2-2.12-4.4-3.75-7.1-4.77a18.1 18.1 0 0 0-8.38-1.113 18.4 18.4 0 0 0-8.04 2.793 18.09 18.09 0 0 0-7.16 8.64L9.267 202.8l-.724 1.8a129.57 129.57 0 0 0-3.52 82c7.747 26.9 24.047 50.7 46.447 67.6l.27.2.59.4 105.97 79.5 52.6 39.7 32 24.2c3.7 1.9 8.3 4.3 13 4.3 4.7 0 9.3-2.4 13-4.3l32-24.2 52.6-39.7 106.7-79.9.3-.3c22.4-16.9 38.7-40.6 45.6-67.5 8.6-27 7.4-55.8-2.6-82z"/></svg>
  </div>
  <div class="md-source__repository">
    lh2pac
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Presentation
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Presentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../presentation/use_case/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The use case
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../presentation/deliverables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The deliverables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../presentation/dates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The important dates
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
          
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Utils
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../utils/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install LH2PAC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../utils/markdown/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Write in markdown
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../../generated/scripts/examples/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../generated/scripts/examples/plot_unit_conversion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unit conversion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../generated/scripts/examples/plot_draw_aicraft/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Draw an aircraft
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../generated/scripts/examples/plot_h2turbo_fan/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The H2TurboFan discipline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../generated/scripts/examples/plot_design_space/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a design space
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../generated/scripts/examples/plot_doe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Design of experiments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../generated/scripts/examples/plot_sensitivity_analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sensitivity analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../generated/scripts/examples/plot_optimization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../generated/scripts/examples/plot_uncertain_space/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Uncertain space
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../generated/scripts/examples/plot_uncertainty_propagation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Uncertainty propagation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../generated/scripts/examples/plot_surrogate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Surrogate model
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../../generated/scripts/project/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Scripts
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Scripts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../../../report/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Report
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Report
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../report/introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../report/part1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../report/part2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../report/part3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Part 3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../../report/conclusion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conclusion
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lh2pac.marilib.aircraft.design.process" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;process
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lh2pac.marilib.aircraft.design.process-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lh2pac.marilib.aircraft.design.process.Optimizer" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Optimizer
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" Optimizer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lh2pac.marilib.aircraft.design.process.Optimizer-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lh2pac.marilib.aircraft.design.process.Optimizer.custom_descent_search" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;custom_descent_search
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lh2pac.marilib.aircraft.design.process.Optimizer.eval_optim_data" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;eval_optim_data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lh2pac.marilib.aircraft.design.process.Optimizer.eval_optim_data_checked" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;eval_optim_data_checked
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lh2pac.marilib.aircraft.design.process.Optimizer.grid_minimum_search" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;grid_minimum_search
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lh2pac.marilib.aircraft.design.process.Optimizer.mdf" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;mdf
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lh2pac.marilib.aircraft.design.process.Optimizer.reset" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;reset
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lh2pac.marilib.aircraft.design.process.Optimizer.scipy_trust_constraint" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;scipy_trust_constraint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lh2pac.marilib.aircraft.design.process.Optimizer.update_interpolator_and_gradient" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;update_interpolator_and_gradient
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lh2pac.marilib.aircraft.design.process-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lh2pac.marilib.aircraft.design.process.eval_this" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;eval_this
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lh2pac.marilib.aircraft.design.process.mda" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;mda
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lh2pac.marilib.aircraft.design.process.mda_hq" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;mda_hq
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lh2pac.marilib.aircraft.design.process.mda_plus" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;mda_plus
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Process</h1>

<div class="doc doc-object doc-module">



<h2 id="lh2pac.marilib.aircraft.design.process" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">process</span>


<a href="#lh2pac.marilib.aircraft.design.process" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents first">

      <p>:author: Conceptual Airplane Design &amp; Operations (CADO team)
         Nicolas PETEILH, Pascal ROCHES, Nicolas MONROLIN, Thierry DRUOT
         Aircraft &amp; Systems, Air Transport Departement, ENAC</p>
<p>The main design processes are defined in this module:</p>
<ul>
<li>Multidisciplanary Design Analysis</li>
<li>Mulitdisciplinary Design Feasible</li>
</ul>
<p>Allow you to draw design space charts.</p>
<p>.. todo: improve documentation</p>



  <div class="doc doc-children">






<h3 id="lh2pac.marilib.aircraft.design.process-classes">Classes<a href="#lh2pac.marilib.aircraft.design.process-classes" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-class">



<h4 id="lh2pac.marilib.aircraft.design.process.Optimizer" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Optimizer</span>


<a href="#lh2pac.marilib.aircraft.design.process.Optimizer" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">Optimizer</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code>object</code></p>


      <p>A container for the optimization procedure.
The optimizer will prevent any optimization routine to run twice the MDA at the same point.
The computed_points dictionnary has the foolowing keys and values: :</p>
<div class="highlight"><pre><span></span><code>* key: the position of the computed point as a key &quot;(x,y)&quot; a
* value : the value of the criterion and contraints list.
</code></pre></div>

                  <details class="quote">
                    <summary>Source code in <code>src/lh2pac/marilib/aircraft/design/process.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">computed_points</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># store the points that are already evaluated (to avoid running mda twice during optimization)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">check_for_doublon</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1"># should the optimizer check if points were already been computed before calling eval_optim_data</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">







<h5 id="lh2pac.marilib.aircraft.design.process.Optimizer-functions">Functions<a href="#lh2pac.marilib.aircraft.design.process.Optimizer-functions" class="headerlink" title="Permanent link">&para;</a></h5>

<div class="doc doc-object doc-function">


<h6 id="lh2pac.marilib.aircraft.design.process.Optimizer.custom_descent_search" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">custom_descent_search</span>


<a href="#lh2pac.marilib.aircraft.design.process.Optimizer.custom_descent_search" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">custom_descent_search</span><span class="p">(</span>
    <span class="n">cost_fun</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">delta_end</span><span class="o">=</span><span class="mf">0.005</span><span class="p">,</span> <span class="n">pen</span><span class="o">=</span><span class="mf">1000000.0</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>A custom minimization method limited to 2 parameters problems (x1,x2).
    This method is based on mximum descent algorythm.</p>
<div class="highlight"><pre><span></span><code>    1. Evaluate cost function (with constraint penalisation) on 3 points.

(-1,0)    (0,0)         + : computed points
   +-------+
           |
           |
           +
         (0,-1)

    2. Compute the 2D gradient of the cost function (taking into account penalized constraints).
    3. Build a linear approximation of the cost function based on the the gradient.
    4. Extrapolate the cost function on the gradient direction step by step until cost increases
    5. Reduce the step size &#39;delta&#39; by a factor 2 and restart from step 1.
</code></pre></div>
<p>The algorythm ends when the step is small enough.
More precisely when the relative step delta (percentage of initial starting point x0) is smaller than delta_end.</p>
<div class="highlight"><pre><span></span><code>:param cost_fun: a function that returns the criterion to be minimized and the constraints value for given
                values of the parameters. In MARILib, cost and constraints are evaluated simultaneously.
:param x0: a list of the two initial parameter values (x1,x2).
:param delta: the relative step for initial pattern size : 0&lt; delta &lt; 1.
    :Example: If delta = 0.05, the pattern size will be 5% of the magnitude of x0 values.
:param delta_end: the relative step for for algorythm ending.
:param pen: penalisation factor to multiply the constraint value. The constraint is negative when unsatisfied.
    :Example: This algorythm minimizes the modified cost function : criterion + pen*constraint
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/lh2pac/marilib/aircraft/design/process.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">custom_descent_search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">cost_fun</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">delta_end</span><span class="o">=</span><span class="mf">0.005</span><span class="p">,</span> <span class="n">pen</span><span class="o">=</span><span class="mf">1e6</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; A custom minimization method limited to 2 parameters problems (x1,x2).</span>
<span class="sd">    This method is based on mximum descent algorythm.</span>

<span class="sd">        1. Evaluate cost function (with constraint penalisation) on 3 points.</span>

<span class="sd">    (-1,0)    (0,0)         + : computed points</span>
<span class="sd">       +-------+</span>
<span class="sd">               |</span>
<span class="sd">               |</span>
<span class="sd">               +</span>
<span class="sd">             (0,-1)</span>

<span class="sd">        2. Compute the 2D gradient of the cost function (taking into account penalized constraints).</span>
<span class="sd">        3. Build a linear approximation of the cost function based on the the gradient.</span>
<span class="sd">        4. Extrapolate the cost function on the gradient direction step by step until cost increases</span>
<span class="sd">        5. Reduce the step size &#39;delta&#39; by a factor 2 and restart from step 1.</span>

<span class="sd">The algorythm ends when the step is small enough.</span>
<span class="sd">More precisely when the relative step delta (percentage of initial starting point x0) is smaller than delta_end.</span>

<span class="sd">    :param cost_fun: a function that returns the criterion to be minimized and the constraints value for given</span>
<span class="sd">                    values of the parameters. In MARILib, cost and constraints are evaluated simultaneously.</span>
<span class="sd">    :param x0: a list of the two initial parameter values (x1,x2).</span>
<span class="sd">    :param delta: the relative step for initial pattern size : 0&lt; delta &lt; 1.</span>
<span class="sd">        :Example: If delta = 0.05, the pattern size will be 5% of the magnitude of x0 values.</span>
<span class="sd">    :param delta_end: the relative step for for algorythm ending.</span>
<span class="sd">    :param pen: penalisation factor to multiply the constraint value. The constraint is negative when unsatisfied.</span>
<span class="sd">        :Example: This algorythm minimizes the modified cost function : criterion + pen*constraint</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">points</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># initialize the list of computed points (delta unit coordinate)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;x0 &quot;</span><span class="p">,</span> <span class="n">x0</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">)):</span>
        <span class="n">x0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">x0</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">custom_cost</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="n">crt</span><span class="p">,</span> <span class="n">cst</span> <span class="o">=</span> <span class="n">cost_fun</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">crt</span> <span class="o">-</span> <span class="nb">sum</span><span class="p">([</span><span class="n">c</span><span class="o">*</span><span class="n">pen</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cst</span> <span class="k">if</span> <span class="n">c</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">])</span>

    <span class="n">xy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>  <span class="c1"># set initial value in delta coordinates</span>
    <span class="n">xy_ref</span> <span class="o">=</span> <span class="n">xy</span>
    <span class="n">points</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span> <span class="o">=</span> <span class="n">custom_cost</span><span class="p">(</span><span class="n">x0</span><span class="p">)</span>  <span class="c1"># put initial point in the points dict</span>

    <span class="n">scale</span> <span class="o">=</span> <span class="n">delta</span> <span class="o">*</span> <span class="n">x0</span>  <span class="c1"># one unit displacement of xy corresponds to delta0*x0 displacement in real x</span>
    <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">delta</span> <span class="o">&gt;=</span> <span class="n">delta_end</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Iter </span><span class="si">%d</span><span class="s2">, delta = </span><span class="si">%f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">delta</span><span class="p">))</span>
        <span class="n">current_points</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)]:</span>
            <span class="n">xy</span> <span class="o">=</span> <span class="n">xy_ref</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">step</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">**</span> <span class="n">k</span>  <span class="c1"># move current location by a step</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x0</span> <span class="o">+</span> <span class="n">xy</span> <span class="o">*</span> <span class="n">scale</span>
            <span class="c1"># print(x)</span>
            <span class="k">if</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">xy</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">points</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>  <span class="c1"># this value is not already computed</span>
                <span class="n">crt</span> <span class="o">=</span> <span class="n">custom_cost</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
                <span class="n">points</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">xy</span><span class="p">)]</span> <span class="o">=</span> <span class="n">crt</span>
                <span class="n">current_points</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">xy</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">xy</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">crt</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">current_points</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">xy</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">xy</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">points</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">xy</span><span class="p">)]])</span>

        <span class="c1"># Find the equation of the plan passing through the 3 points</span>
        <span class="n">zgradient</span><span class="p">,</span> <span class="n">extrapolator</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_interpolator_and_gradient</span><span class="p">(</span><span class="n">current_points</span><span class="p">)</span>
        <span class="n">xy</span> <span class="o">=</span> <span class="n">xy_ref</span>
        <span class="n">crt_old</span> <span class="o">=</span> <span class="n">points</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">xy</span><span class="p">)]</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># set initialy criter_old &gt; criter</span>
        <span class="n">crt</span> <span class="o">=</span> <span class="n">points</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">xy</span><span class="p">)]</span>
        <span class="k">while</span> <span class="n">crt</span> <span class="o">&lt;</span> <span class="n">crt_old</span><span class="p">:</span>  <span class="c1"># descent search</span>
            <span class="n">crt_old</span> <span class="o">=</span> <span class="n">crt</span>
            <span class="n">xy_ref</span> <span class="o">=</span> <span class="n">xy</span>
            <span class="n">xy</span> <span class="o">=</span> <span class="n">xy</span> <span class="o">-</span> <span class="n">zgradient</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">**</span> <span class="n">k</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x0</span> <span class="o">+</span> <span class="n">xy</span> <span class="o">*</span> <span class="n">scale</span>
            <span class="n">crt</span> <span class="o">=</span> <span class="n">custom_cost</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="n">points</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">xy</span><span class="p">)]</span> <span class="o">=</span> <span class="n">crt</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

        <span class="n">k</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">delta</span> <span class="o">=</span> <span class="n">delta</span> <span class="o">/</span> <span class="mf">2.</span>

    <span class="n">res</span> <span class="o">=</span> <span class="s2">&quot;---- Custom descent search ----</span><span class="se">\n</span><span class="s2">&gt;Number of evaluations : </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">res</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="lh2pac.marilib.aircraft.design.process.Optimizer.eval_optim_data" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">eval_optim_data</span>


<a href="#lh2pac.marilib.aircraft.design.process.Optimizer.eval_optim_data" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">eval_optim_data</span><span class="p">(</span>
    <span class="n">x_in</span><span class="p">,</span> <span class="n">aircraft</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">cst</span><span class="p">,</span> <span class="n">cst_mag</span><span class="p">,</span> <span class="n">crt</span><span class="p">,</span> <span class="n">crt_mag</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Compute criterion and constraints.</p>

            <details class="quote">
              <summary>Source code in <code>src/lh2pac/marilib/aircraft/design/process.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">eval_optim_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x_in</span><span class="p">,</span><span class="n">aircraft</span><span class="p">,</span><span class="n">var</span><span class="p">,</span><span class="n">cst</span><span class="p">,</span><span class="n">cst_mag</span><span class="p">,</span><span class="n">crt</span><span class="p">,</span><span class="n">crt_mag</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute criterion and constraints.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">var</span><span class="p">):</span>  <span class="c1"># Put optimization variables in aircraft object</span>
        <span class="n">exec</span><span class="p">(</span><span class="n">key</span> <span class="o">+</span> <span class="s2">&quot; = x_in[k]&quot;</span><span class="p">)</span>

    <span class="n">mda</span><span class="p">(</span><span class="n">aircraft</span><span class="p">)</span>  <span class="c1"># Run MDA</span>

    <span class="n">constraint</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cst</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cst</span><span class="p">):</span>  <span class="c1"># put optimization variables in aircraft object</span>
        <span class="n">constraint</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">/</span> <span class="nb">eval</span><span class="p">(</span><span class="n">cst_mag</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>

    <span class="n">criterion</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">crt</span><span class="p">)</span> <span class="o">/</span> <span class="n">crt_mag</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">computed_points</span><span class="p">[</span><span class="nb">tuple</span><span class="p">(</span><span class="n">x_in</span><span class="p">)]</span> <span class="o">=</span> <span class="p">[</span><span class="n">criterion</span><span class="p">,</span> <span class="n">constraint</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">criterion</span><span class="p">,</span><span class="n">constraint</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="lh2pac.marilib.aircraft.design.process.Optimizer.eval_optim_data_checked" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">eval_optim_data_checked</span>


<a href="#lh2pac.marilib.aircraft.design.process.Optimizer.eval_optim_data_checked" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">eval_optim_data_checked</span><span class="p">(</span>
    <span class="n">x_in</span><span class="p">,</span> <span class="n">aircraft</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">cst</span><span class="p">,</span> <span class="n">cst_mag</span><span class="p">,</span> <span class="n">crt</span><span class="p">,</span> <span class="n">crt_mag</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Compute criterion and constraints and check that it was not already computed.</p>

            <details class="quote">
              <summary>Source code in <code>src/lh2pac/marilib/aircraft/design/process.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">eval_optim_data_checked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x_in</span><span class="p">,</span><span class="n">aircraft</span><span class="p">,</span><span class="n">var</span><span class="p">,</span><span class="n">cst</span><span class="p">,</span><span class="n">cst_mag</span><span class="p">,</span><span class="n">crt</span><span class="p">,</span><span class="n">crt_mag</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute criterion and constraints and check that it was not already computed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">in_key</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">x_in</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_for_doublon</span><span class="p">:</span>

        <span class="k">if</span> <span class="n">in_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">computed_points</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span> <span class="c1"># check if this point has not been already evaluated</span>
            <span class="n">criterion</span><span class="p">,</span><span class="n">constraint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">eval_optim_data</span><span class="p">(</span><span class="n">x_in</span><span class="p">,</span><span class="n">aircraft</span><span class="p">,</span><span class="n">var</span><span class="p">,</span><span class="n">cst</span><span class="p">,</span><span class="n">cst_mag</span><span class="p">,</span><span class="n">crt</span><span class="p">,</span><span class="n">crt_mag</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">criterion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">computed_points</span><span class="p">[</span><span class="n">in_key</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">constraint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">computed_points</span><span class="p">[</span><span class="n">in_key</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">criterion</span><span class="p">,</span> <span class="n">constraint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">eval_optim_data</span><span class="p">(</span><span class="n">x_in</span><span class="p">,</span> <span class="n">aircraft</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">cst</span><span class="p">,</span> <span class="n">cst_mag</span><span class="p">,</span> <span class="n">crt</span><span class="p">,</span> <span class="n">crt_mag</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt;Design point:&quot;</span><span class="p">,</span> <span class="n">x_in</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Criterion :&quot;</span><span class="p">,</span> <span class="n">criterion</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Constraints :&quot;</span><span class="p">,</span> <span class="n">constraint</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">criterion</span><span class="p">,</span><span class="n">constraint</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="lh2pac.marilib.aircraft.design.process.Optimizer.grid_minimum_search" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">grid_minimum_search</span>


<a href="#lh2pac.marilib.aircraft.design.process.Optimizer.grid_minimum_search" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">grid_minimum_search</span><span class="p">(</span><span class="n">cost_fun</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">delta</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">pen</span><span class="o">=</span><span class="mf">500000.0</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>A custom minimization method limited to 2 parameters problems (x1,x2).
This method uses a custom pattern search algorithm that requires a minimum number of call to the cost function.
It takes advantage of the prior knowledge of the problem:</p>
<div class="highlight"><pre><span></span><code>1. Evaluate cost function (with constraint penalisation) at current point : coordinate (0,0)
2. Evaluate, if not already done, the cost function in three other points to draw a square area of side1 :
   coordinates (-1,0), (0,-1) relatively to current point
3. Build a linear approximation of the cost function based on the the 3 previous points.
4. Extrapolate the cost function on the surrounding points:

o------o-------o------o
|                     |     o : extrapolated points
|   (-1,0)   (0,0)    |     + : computed points
o      +-------+      o
|      |       |      |
|      |       |      |
o      o-------+      o
|            (0,-1)   |
|                     |
o------o-------o------o

5. Find the square cell (among the 9 cells defined by computed and extrapolated points)
with minimal average criterion value
Crt  = cost_function(x1,y1) - sum(unsatisfied constraints)
    * If current cell is minimum : STOP (or refine of asked so)
    * Else : move current point to the top right corner of the new candidate cell and go back to step 1.
</code></pre></div>
<p>:param cost_fun: a function that returns the criterion to be minimized and the constraints value for given
                value of the parameters : length-2 tuple (x1,x2).
:param x0: a list of the two initial parameter values (x1,x2).
:param args: list of additional argument for cost_fun.
:param delta: the relative step for initial pattern size : 0&lt; delta &lt; 1.
    :Example: If delta = 0.05, the pattern size will be 5% of the magnitude of x0 values.
:param pen: penalisation factor to multiply the constraint value. The constraint is negative when unsatisfied.
    :Example: This algorythm minimizes the modified cost function : criterion + pen*constraint</p>

            <details class="quote">
              <summary>Source code in <code>src/lh2pac/marilib/aircraft/design/process.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">grid_minimum_search</span><span class="p">(</span><span class="n">cost_fun</span><span class="p">,</span><span class="n">x0</span><span class="p">,</span><span class="n">delta</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span><span class="n">pen</span><span class="o">=</span><span class="mf">5e5</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; A custom minimization method limited to 2 parameters problems (x1,x2).</span>
<span class="sd">    This method uses a custom pattern search algorithm that requires a minimum number of call to the cost function.</span>
<span class="sd">    It takes advantage of the prior knowledge of the problem:</span>

<span class="sd">        1. Evaluate cost function (with constraint penalisation) at current point : coordinate (0,0)</span>
<span class="sd">        2. Evaluate, if not already done, the cost function in three other points to draw a square area of side1 :</span>
<span class="sd">           coordinates (-1,0), (0,-1) relatively to current point</span>
<span class="sd">        3. Build a linear approximation of the cost function based on the the 3 previous points.</span>
<span class="sd">        4. Extrapolate the cost function on the surrounding points:</span>

<span class="sd">        o------o-------o------o</span>
<span class="sd">        |                     |     o : extrapolated points</span>
<span class="sd">        |   (-1,0)   (0,0)    |     + : computed points</span>
<span class="sd">        o      +-------+      o</span>
<span class="sd">        |      |       |      |</span>
<span class="sd">        |      |       |      |</span>
<span class="sd">        o      o-------+      o</span>
<span class="sd">        |            (0,-1)   |</span>
<span class="sd">        |                     |</span>
<span class="sd">        o------o-------o------o</span>

<span class="sd">        5. Find the square cell (among the 9 cells defined by computed and extrapolated points)</span>
<span class="sd">        with minimal average criterion value</span>
<span class="sd">        Crt  = cost_function(x1,y1) - sum(unsatisfied constraints)</span>
<span class="sd">            * If current cell is minimum : STOP (or refine of asked so)</span>
<span class="sd">            * Else : move current point to the top right corner of the new candidate cell and go back to step 1.</span>

<span class="sd">    :param cost_fun: a function that returns the criterion to be minimized and the constraints value for given</span>
<span class="sd">                    value of the parameters : length-2 tuple (x1,x2).</span>
<span class="sd">    :param x0: a list of the two initial parameter values (x1,x2).</span>
<span class="sd">    :param args: list of additional argument for cost_fun.</span>
<span class="sd">    :param delta: the relative step for initial pattern size : 0&lt; delta &lt; 1.</span>
<span class="sd">        :Example: If delta = 0.05, the pattern size will be 5% of the magnitude of x0 values.</span>
<span class="sd">    :param pen: penalisation factor to multiply the constraint value. The constraint is negative when unsatisfied.</span>
<span class="sd">        :Example: This algorythm minimizes the modified cost function : criterion + pen*constraint</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># TODO</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
    <span class="k">return</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="lh2pac.marilib.aircraft.design.process.Optimizer.mdf" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">mdf</span>


<a href="#lh2pac.marilib.aircraft.design.process.Optimizer.mdf" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">mdf</span><span class="p">(</span>
    <span class="n">aircraft</span><span class="p">,</span>
    <span class="n">var</span><span class="p">,</span>
    <span class="n">var_bnd</span><span class="p">,</span>
    <span class="n">cst</span><span class="p">,</span>
    <span class="n">cst_mag</span><span class="p">,</span>
    <span class="n">crt</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;trust-constr&quot;</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Run the Multidisciplinary Design Feasible procedure for a given aircraft.
The minimization procedure finds the minimal value of a given criteria with respect to given design variables,
and given constraints.</p>
<p>Ex: minimize the MTOW with respect to reference thrust and wing area.</p>
<p>:param method: {'trust-constr','custom'} default is 'trust-constr'.</p>
<div class="highlight"><pre><span></span><code>   * &#39;trust-constr&#39; refers to the method :meth:`mdf_scipy_trust_constraint` which uses scipy.
   * &#39;custom&#39; refers to the method :meth:`custom_descent_search` with a kind of descent search algorythm.
       Recquires less evaluations and is often faster.
</code></pre></div>

            <details class="quote">
              <summary>Source code in <code>src/lh2pac/marilib/aircraft/design/process.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">mdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">aircraft</span><span class="p">,</span><span class="n">var</span><span class="p">,</span><span class="n">var_bnd</span><span class="p">,</span><span class="n">cst</span><span class="p">,</span><span class="n">cst_mag</span><span class="p">,</span><span class="n">crt</span><span class="p">,</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;trust-constr&#39;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run the Multidisciplinary Design Feasible procedure for a given aircraft.</span>
<span class="sd">     The minimization procedure finds the minimal value of a given criteria with respect to given design variables,</span>
<span class="sd">     and given constraints.</span>

<span class="sd">     Ex: minimize the MTOW with respect to reference thrust and wing area.</span>

<span class="sd">     :param method: {&#39;trust-constr&#39;,&#39;custom&#39;} default is &#39;trust-constr&#39;.</span>

<span class="sd">            * &#39;trust-constr&#39; refers to the method :meth:`mdf_scipy_trust_constraint` which uses scipy.</span>
<span class="sd">            * &#39;custom&#39; refers to the method :meth:`custom_descent_search` with a kind of descent search algorythm.</span>
<span class="sd">                Recquires less evaluations and is often faster.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
    <span class="n">start_value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">var</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">var</span><span class="p">):</span>  <span class="c1"># put optimization variables in aircraft object</span>
        <span class="n">exec</span><span class="p">(</span><span class="s2">&quot;start_value[k] = eval(key)&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--------------------------------------------------------------&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;start_value = &quot;</span><span class="p">,</span> <span class="n">start_value</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--------------------------------------------------------------&quot;</span><span class="p">)</span>

    <span class="n">crt_mag</span><span class="p">,</span> <span class="n">unused</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">eval_optim_data</span><span class="p">(</span><span class="n">start_value</span><span class="p">,</span> <span class="n">aircraft</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">cst</span><span class="p">,</span> <span class="n">cst_mag</span><span class="p">,</span> <span class="n">crt</span><span class="p">,</span> <span class="mf">1.</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;trust-constr&#39;</span><span class="p">:</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scipy_trust_constraint</span><span class="p">(</span><span class="n">aircraft</span><span class="p">,</span><span class="n">start_value</span><span class="p">,</span><span class="n">var</span><span class="p">,</span><span class="n">var_bnd</span><span class="p">,</span><span class="n">cst</span><span class="p">,</span><span class="n">cst_mag</span><span class="p">,</span><span class="n">crt</span><span class="p">,</span><span class="n">crt_mag</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;custom&#39;</span><span class="p">:</span>
        <span class="n">cost_const</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x_in</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">eval_optim_data</span><span class="p">(</span><span class="n">x_in</span><span class="p">,</span> <span class="n">aircraft</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">cst</span><span class="p">,</span> <span class="n">cst_mag</span><span class="p">,</span> <span class="n">crt</span><span class="p">,</span> <span class="mf">1.</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">custom_descent_search</span><span class="p">(</span><span class="n">cost_const</span><span class="p">,</span><span class="n">start_value</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="lh2pac.marilib.aircraft.design.process.Optimizer.reset" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">reset</span>


<a href="#lh2pac.marilib.aircraft.design.process.Optimizer.reset" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">reset</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Empty the computed_points dict</p>

            <details class="quote">
              <summary>Source code in <code>src/lh2pac/marilib/aircraft/design/process.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Empty the computed_points dict</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">computed_points</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="lh2pac.marilib.aircraft.design.process.Optimizer.scipy_trust_constraint" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">scipy_trust_constraint</span>


<a href="#lh2pac.marilib.aircraft.design.process.Optimizer.scipy_trust_constraint" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">scipy_trust_constraint</span><span class="p">(</span>
    <span class="n">aircraft</span><span class="p">,</span>
    <span class="n">start_value</span><span class="p">,</span>
    <span class="n">var</span><span class="p">,</span>
    <span class="n">var_bnd</span><span class="p">,</span>
    <span class="n">cst</span><span class="p">,</span>
    <span class="n">cst_mag</span><span class="p">,</span>
    <span class="n">crt</span><span class="p">,</span>
    <span class="n">crt_mag</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Run the trust-constraint minimization procedure :func:<code>scipy.optimize.minimize</code> to minimize a given criterion
and satisfy given constraints for a given aircraft.</p>

            <details class="quote">
              <summary>Source code in <code>src/lh2pac/marilib/aircraft/design/process.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">scipy_trust_constraint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">aircraft</span><span class="p">,</span><span class="n">start_value</span><span class="p">,</span><span class="n">var</span><span class="p">,</span><span class="n">var_bnd</span><span class="p">,</span><span class="n">cst</span><span class="p">,</span><span class="n">cst_mag</span><span class="p">,</span><span class="n">crt</span><span class="p">,</span><span class="n">crt_mag</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Run the trust-constraint minimization procedure :func:`scipy.optimize.minimize` to minimize a given criterion</span>
<span class="sd">    and satisfy given constraints for a given aircraft.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">cost</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">eval_optim_data_checked</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">constraints</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">eval_optim_data_checked</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">aircraft</span><span class="p">,</span><span class="n">var</span><span class="p">,</span><span class="n">cst</span><span class="p">,</span><span class="n">cst_mag</span><span class="p">,</span><span class="n">crt</span><span class="p">,</span><span class="n">crt_mag</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

    <span class="n">res</span> <span class="o">=</span> <span class="n">minimize</span><span class="p">(</span><span class="n">cost</span><span class="p">,</span> <span class="n">start_value</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">aircraft</span><span class="p">,</span><span class="n">var</span><span class="p">,</span><span class="n">cst</span><span class="p">,</span><span class="n">cst_mag</span><span class="p">,</span><span class="n">crt</span><span class="p">,</span><span class="n">crt_mag</span><span class="p">,),</span>
                   <span class="n">constraints</span><span class="o">=</span><span class="n">NonlinearConstraint</span><span class="p">(</span><span class="n">fun</span><span class="o">=</span><span class="n">constraints</span><span class="p">,</span>
                                                   <span class="n">lb</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">ub</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="n">jac</span><span class="o">=</span><span class="s1">&#39;3-point&#39;</span><span class="p">),</span>
                   <span class="n">method</span><span class="o">=</span><span class="s2">&quot;trust-constr&quot;</span><span class="p">,</span> <span class="n">jac</span><span class="o">=</span><span class="s2">&quot;3-point&quot;</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="n">var_bnd</span><span class="p">,</span> <span class="n">hess</span><span class="o">=</span><span class="n">SR1</span><span class="p">(),</span> <span class="n">hessp</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                   <span class="n">options</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;maxiter&#39;</span><span class="p">:</span><span class="mi">500</span><span class="p">,</span><span class="s1">&#39;xtol&#39;</span><span class="p">:</span><span class="mf">1.e-6</span><span class="p">})</span>
                   <span class="c1">#options={&#39;maxiter&#39;:500,&#39;xtol&#39;: np.linalg.norm(start_value)*0.01,</span>
                   <span class="c1">#         &#39;initial_tr_radius&#39;: np.linalg.norm(start_value)*0.05 })</span>
    <span class="k">return</span> <span class="n">res</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h6 id="lh2pac.marilib.aircraft.design.process.Optimizer.update_interpolator_and_gradient" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">update_interpolator_and_gradient</span>


<a href="#lh2pac.marilib.aircraft.design.process.Optimizer.update_interpolator_and_gradient" class="headerlink" title="Permanent link">&para;</a></h6>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">update_interpolator_and_gradient</span><span class="p">(</span><span class="n">threePoints</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Compute the plane equation through three points.
Returns the gradient vector and interpolator function.
:param xxx : a three point matrix [[x1,y1,z1],[x2,y2,z2],[x3,y3,z3]]</p>

            <details class="quote">
              <summary>Source code in <code>src/lh2pac/marilib/aircraft/design/process.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">update_interpolator_and_gradient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">threePoints</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute the plane equation through three points.</span>
<span class="sd">    Returns the gradient vector and interpolator function.</span>
<span class="sd">    :param xxx : a three point matrix [[x1,y1,z1],[x2,y2,z2],[x3,y3,z3]]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">threePoints</span><span class="p">,</span>
                              <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>  <span class="c1"># find the coefficient of the plan passing through the 3 points</span>
    <span class="n">extrapolator</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="mf">1.</span> <span class="o">-</span> <span class="n">a</span> <span class="o">*</span> <span class="n">x</span> <span class="o">-</span> <span class="n">b</span> <span class="o">*</span> <span class="n">y</span><span class="p">)</span> <span class="o">/</span> <span class="n">c</span>
    <span class="n">zgradient</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="n">a</span> <span class="o">/</span> <span class="n">c</span><span class="p">,</span> <span class="o">-</span><span class="n">b</span> <span class="o">/</span> <span class="n">c</span><span class="p">])</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">([</span><span class="o">-</span><span class="n">a</span> <span class="o">/</span> <span class="n">c</span><span class="p">,</span> <span class="o">-</span><span class="n">b</span> <span class="o">/</span> <span class="n">c</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">zgradient</span><span class="p">,</span> <span class="n">extrapolator</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>
<h3 id="lh2pac.marilib.aircraft.design.process-functions">Functions<a href="#lh2pac.marilib.aircraft.design.process-functions" class="headerlink" title="Permanent link">&para;</a></h3>

<div class="doc doc-object doc-function">


<h4 id="lh2pac.marilib.aircraft.design.process.eval_this" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">eval_this</span>


<a href="#lh2pac.marilib.aircraft.design.process.eval_this" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">eval_this</span><span class="p">(</span><span class="n">aircraft</span><span class="p">,</span> <span class="n">design_variables</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Evaluate the current value of the design variables of the aircraft
:param aircraft: the aircraft being designed
:param design_variables: a list of string path to the variables. Example : ::
        design_variables = ["aircraft.airframe.nacelle.reference_thrust",
                            "aircraft.airframe.wing.area"]
:return: the value of the designed variables</p>

            <details class="quote">
              <summary>Source code in <code>src/lh2pac/marilib/aircraft/design/process.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">eval_this</span><span class="p">(</span><span class="n">aircraft</span><span class="p">,</span><span class="n">design_variables</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Evaluate the current value of the design variables of the aircraft</span>
<span class="sd">    :param aircraft: the aircraft being designed</span>
<span class="sd">    :param design_variables: a list of string path to the variables. Example : ::</span>
<span class="sd">            design_variables = [&quot;aircraft.airframe.nacelle.reference_thrust&quot;,</span>
<span class="sd">                                &quot;aircraft.airframe.wing.area&quot;]</span>
<span class="sd">    :return: the value of the designed variables</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="nb">str</span> <span class="ow">in</span> <span class="n">design_variables</span><span class="p">:</span>
        <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="nb">str</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">res</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="lh2pac.marilib.aircraft.design.process.mda" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">mda</span>


<a href="#lh2pac.marilib.aircraft.design.process.mda" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">mda</span><span class="p">(</span><span class="n">aircraft</span><span class="p">,</span> <span class="n">mass_mission_matching</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Perform Multidsciplinary_Design_Analysis
All coupling constraints are solved in a relevent order</p>

            <details class="quote">
              <summary>Source code in <code>src/lh2pac/marilib/aircraft/design/process.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">mda</span><span class="p">(</span><span class="n">aircraft</span><span class="p">,</span> <span class="n">mass_mission_matching</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Perform Multidsciplinary_Design_Analysis</span>
<span class="sd">    All coupling constraints are solved in a relevent order</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># aircraft.airframe.geometry_analysis()     # Without statistical empennage sizing</span>
    <span class="n">aircraft</span><span class="o">.</span><span class="n">airframe</span><span class="o">.</span><span class="n">statistical_pre_design</span><span class="p">()</span>  <span class="c1"># With statistical empennage sizing</span>

    <span class="c1"># aircraft.weight_cg.mass_analysis()      # Without MZFW - MLW coupling</span>
    <span class="n">aircraft</span><span class="o">.</span><span class="n">weight_cg</span><span class="o">.</span><span class="n">mass_pre_design</span><span class="p">()</span>    <span class="c1"># With MZFW - MLW coupling</span>

    <span class="n">aircraft</span><span class="o">.</span><span class="n">aerodynamics</span><span class="o">.</span><span class="n">aerodynamic_analysis</span><span class="p">()</span>

    <span class="n">aircraft</span><span class="o">.</span><span class="n">handling_quality</span><span class="o">.</span><span class="n">analysis</span><span class="p">()</span>
    <span class="c1"># aircraft.handling_quality.optimization()        # Perform optimization instead of analysis</span>

    <span class="k">if</span> <span class="n">mass_mission_matching</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
        <span class="n">aircraft</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">mission</span><span class="o">.</span><span class="n">mass_mission_adaptation</span><span class="p">()</span>

    <span class="n">aircraft</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">mission</span><span class="o">.</span><span class="n">payload_range</span><span class="p">()</span>

    <span class="n">aircraft</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">analysis</span><span class="p">()</span>

    <span class="n">aircraft</span><span class="o">.</span><span class="n">economics</span><span class="o">.</span><span class="n">operating_cost_analysis</span><span class="p">()</span>

    <span class="n">aircraft</span><span class="o">.</span><span class="n">environment</span><span class="o">.</span><span class="n">fuel_efficiency_metric</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="lh2pac.marilib.aircraft.design.process.mda_hq" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">mda_hq</span>


<a href="#lh2pac.marilib.aircraft.design.process.mda_hq" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">mda_hq</span><span class="p">(</span><span class="n">aircraft</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Perform Multidsciplinary_Design_Analysis
All coupling constraints are solved in a relevent order</p>

            <details class="quote">
              <summary>Source code in <code>src/lh2pac/marilib/aircraft/design/process.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">mda_hq</span><span class="p">(</span><span class="n">aircraft</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Perform Multidsciplinary_Design_Analysis</span>
<span class="sd">    All coupling constraints are solved in a relevent order</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># aircraft.airframe.geometry_analysis()</span>
    <span class="n">aircraft</span><span class="o">.</span><span class="n">airframe</span><span class="o">.</span><span class="n">statistical_pre_design</span><span class="p">()</span>

    <span class="c1"># aircraft.weight_cg.mass_analysis()</span>
    <span class="n">aircraft</span><span class="o">.</span><span class="n">weight_cg</span><span class="o">.</span><span class="n">mass_pre_design</span><span class="p">()</span>

    <span class="n">aircraft</span><span class="o">.</span><span class="n">aerodynamics</span><span class="o">.</span><span class="n">aerodynamic_analysis</span><span class="p">()</span>

    <span class="c1"># aircraft.handling_quality.analysis()</span>
    <span class="n">aircraft</span><span class="o">.</span><span class="n">handling_quality</span><span class="o">.</span><span class="n">optimization</span><span class="p">()</span>        <span class="c1"># Perform optimization instead of analysis</span>

    <span class="n">aircraft</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">mission</span><span class="o">.</span><span class="n">mass_mission_adaptation</span><span class="p">()</span>

    <span class="n">aircraft</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">mission</span><span class="o">.</span><span class="n">payload_range</span><span class="p">()</span>

    <span class="n">aircraft</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">analysis</span><span class="p">()</span>

    <span class="n">aircraft</span><span class="o">.</span><span class="n">economics</span><span class="o">.</span><span class="n">operating_cost_analysis</span><span class="p">()</span>

    <span class="n">aircraft</span><span class="o">.</span><span class="n">environment</span><span class="o">.</span><span class="n">fuel_efficiency_metric</span><span class="p">()</span>

    <span class="n">aircraft</span><span class="o">.</span><span class="n">power_system</span><span class="o">.</span><span class="n">thrust_analysis</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="lh2pac.marilib.aircraft.design.process.mda_plus" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">mda_plus</span>


<a href="#lh2pac.marilib.aircraft.design.process.mda_plus" class="headerlink" title="Permanent link">&para;</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">mda_plus</span><span class="p">(</span><span class="n">aircraft</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

      <p>Solves coupling between MTOW and OWE</p>

            <details class="quote">
              <summary>Source code in <code>src/lh2pac/marilib/aircraft/design/process.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">mda_plus</span><span class="p">(</span><span class="n">aircraft</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Solves coupling between MTOW and OWE</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="n">aircraft</span><span class="o">.</span><span class="n">requirement</span><span class="o">.</span><span class="n">design_range</span>
    <span class="n">kdist</span> <span class="o">=</span> <span class="n">aircraft</span><span class="o">.</span><span class="n">requirement</span><span class="o">.</span><span class="n">max_fuel_range_factor</span>

    <span class="k">def</span> <span class="nf">fct</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="n">aircraft</span><span class="o">.</span><span class="n">airframe</span><span class="o">.</span><span class="n">tank</span><span class="o">.</span><span class="n">mfw_factor</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">mda</span><span class="p">(</span><span class="n">aircraft</span><span class="p">)</span>
        <span class="n">max_fuel_range</span> <span class="o">=</span> <span class="n">aircraft</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">mission</span><span class="o">.</span><span class="n">max_fuel</span><span class="o">.</span><span class="n">range</span>
        <span class="k">return</span> <span class="n">dist</span><span class="o">*</span><span class="n">kdist</span> <span class="o">-</span> <span class="n">max_fuel_range</span>

    <span class="n">x_ini</span> <span class="o">=</span> <span class="n">aircraft</span><span class="o">.</span><span class="n">airframe</span><span class="o">.</span><span class="n">tank</span><span class="o">.</span><span class="n">mfw_factor</span>
    <span class="n">output_dict</span> <span class="o">=</span> <span class="n">fsolve</span><span class="p">(</span><span class="n">fct</span><span class="p">,</span> <span class="n">x0</span><span class="o">=</span><span class="n">x_ini</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(),</span> <span class="n">full_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">output_dict</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">!=</span><span class="mi">1</span><span class="p">):</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Convergence problem&quot;</span><span class="p">)</span>

    <span class="n">aircraft</span><span class="o">.</span><span class="n">airframe</span><span class="o">.</span><span class="n">tank</span><span class="o">.</span><span class="n">mfw_factor</span> <span class="o">=</span> <span class="n">output_dict</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">mda</span><span class="p">(</span><span class="n">aircraft</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../../../..", "features": ["navigation.tabs", "navigation.instant", "navigation.indexes"], "search": "../../../../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../../assets/javascripts/bundle.081f42fc.min.js"></script>
      
        <script src="../../../../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>